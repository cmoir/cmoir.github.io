<html>

<head>
	<title>Family News Analyzer</title>
	<meta name="description" lang="de" content="A tool to sum up and analyse the famnews.">
	<meta name="keywords"
		content="imperial conflict,family,news,analyzer,summary,php,MMOG,massive,multiplayer,online,game">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link REL=STYLESHEET HREF="ic.css" TYPE="text/css">
	<script type="text/javascript">
		function updateResults() {
			text = document.getElementById('news').value;
			text = addLineNumber(text)

			playerNameRegex = "([\w+\s*\w*]*)";
			planetRegex = " planet (\d+) in the (\d+)[,:](\d+) system";
			lineRegx = "(\d+) ";
			eventTick = "(\w+)[\s](\d+)T-(\d{1,4})[\s]+";
			//1 E	T-424		TIF explored planet 4 in the 232,226 system.

			explorePattern = /(\d+)[\s]E[\s]T-(\d{1,4})\s+([\w+\s*\w*]*) explored planet (\d+) in the (\d+)[,:](\d+) system/gm;
			matches = text.matchAll(explorePattern);
			out = ''
			if (matches !== null) {
				for (const match of matches) {
					out = `${out}${match[1]} turn:${match[2]} player:${match[3]} planet:${match[5]},${match[6]}:${match[4]}\n`
				}
			}
			document.getElementById('news').value = out;
		}

		function addLineNumber(text) {
			lines = text.split('\n')
			outputWithLineNumbers = ''
			i = 1
			for (line in lines) {
				outputWithLineNumbers = `${outputWithLineNumbers}${i} ${lines[line]}\n`
				i++
			}

			return outputWithLineNumbers
		}
		
	</script>
</head>

<BODY>
	<h3>Tools based on silenz.org - online tools for <a href="https  ://www.imperialconflict.com/">Imperial Conflict</a>
	</h3>
	<hr>
	<hr>
	<a href="index.html">Family News Analyzer</a> -
	<a href="reports.html">Recent Reports Summarizer</a> -
	<a href="format.html">Format Planet Lists</a> -
	<hr>
	<h3>family news analyzer</h3>
	Open the family news page, hit CTRL+A on it, CTRL+C and paste it into the field below.<br>
	<br>
	<TEXTAREA id="news" name="news" cols=40 rows=5>enter news here</TEXTAREA>
		<br>
	<button onclick="updateResults()">Format!</button>
	<div align=center>
		<div align=center>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
			<br>
		</div>
	</div>
</BODY>

</html>